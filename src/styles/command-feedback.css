.command-feedback {
  position: fixed;
  top: clamp(0.4rem, 2vw, 1rem);
  left: 50%;
  transform: translate(-50%, -140%);
  min-width: min(92vw, 520px);
  background: linear-gradient(135deg, rgba(7, 11, 18, 0.94), rgba(6, 9, 16, 0.88));
  border: 1px solid rgba(0, 255, 255, 0.24);
  box-shadow:
    0 36px 72px rgba(5, 12, 24, 0.46),
    0 12px 28px rgba(8, 18, 36, 0.32),
    inset 0 1px 0 rgba(132, 244, 255, 0.2);
  font-family: 'Share Tech Mono', 'IBM Plex Mono', 'JetBrains Mono', monospace;
  text-transform: uppercase;
  letter-spacing: 0.16em;
  color: #def9ff;
  pointer-events: none;
  opacity: 0;
  transition: transform 0.5s cubic-bezier(0.22, 1, 0.36, 1), opacity 0.45s ease;
  z-index: 5000;
  overflow: hidden;
  isolation: isolate;
}

/* Edge glow pulse animation */
@keyframes edge-glow-pulse {
  0% {
    opacity: 0.3;
    transform: translateX(-100%);
  }
  50% {
    opacity: 0.8;
  }
  100% {
    opacity: 0.3;
    transform: translateX(400%);
  }
}

@keyframes data-stream {
  0% {
    transform: translateY(-100%);
    opacity: 0.15;
  }
  100% {
    transform: translateY(100%);
    opacity: 0;
  }
}

@keyframes noise-flicker {
  0%, 100% {
    opacity: 0.08;
  }
  50% {
    opacity: 0.15;
  }
}

@keyframes hex-pulse {
  0%, 100% {
    opacity: 0.3;
    transform: scale(0.95);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.05);
  }
}

/* Edge glow - moving wave effect */
.command-feedback::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(0, 255, 255, 0.35) 50%,
    transparent 100%
  );
  opacity: 0.15;
  animation: edge-glow-pulse 4.5s ease-in-out infinite;
  pointer-events: none;
  z-index: 1;
}

.command-feedback::before {
  content: '';
  position: absolute;
  inset: -50%;
  background:
    repeating-linear-gradient(
      90deg,
      rgba(0, 255, 255, 0.04) 0,
      rgba(0, 255, 255, 0.04) 1px,
      transparent 1px,
      transparent 56px
    ),
    repeating-linear-gradient(
      180deg,
      rgba(0, 255, 255, 0.05) 0,
      rgba(0, 255, 255, 0.05) 1px,
      transparent 1px,
      transparent 48px
    );
  opacity: 0.25;
  transform: rotate(2deg);
  z-index: 0;
}

.command-feedback--visible {
  opacity: 1;
  transform: translate(-50%, 0);
}

.command-feedback__chrome {
  position: relative;
  z-index: 2;
  padding: clamp(0.95rem, 3vw, 1.35rem);
  display: flex;
  flex-direction: column;
  gap: clamp(0.65rem, 2.4vw, 1rem);
  filter: drop-shadow(0 0 18px rgba(0, 255, 213, 0.12));
}

/* Animated data stream background */
.command-feedback__chrome::before {
  content: '0x4A7F 0x2B9C 0xE3A1 0x7D42 0xF1BE 0x9C37 0x5E8A 0xA2F6 0xD4C9 0x6B1E 0x8F3D 0xC7A5 0x3E92 0xB6F8 0x1D4C 0x9A7B 0x4F2E 0xE8D1 0x7C3A 0x2F9E 0xA1D7 0x5B4F 0xC9E2 0x8D6A 0x3F7C 0xB2A9 0x6E1D 0xF4C8 0x9B5E 0x2D8F 0xA7C3 0x4E9B 0xD2F7 0x8A3E 0x5F1C 0xC6D9 0x3B7A 0xE9F2 0x7D4E';
  position: absolute;
  top: -100%;
  left: 0;
  right: 0;
  height: 200%;
  font-size: 0.55rem;
  font-family: 'Share Tech Mono', monospace;
  letter-spacing: 0.3em;
  color: rgba(0, 255, 255, 0.12);
  word-wrap: break-word;
  line-height: 2.2;
  animation: data-stream 12s linear infinite;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}

/* Static/noise texture */
.command-feedback__chrome::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    repeating-linear-gradient(
      0deg,
      rgba(0, 0, 0, 0.08) 0px,
      transparent 1px,
      transparent 2px,
      rgba(0, 0, 0, 0.08) 3px
    ),
    repeating-linear-gradient(
      90deg,
      rgba(0, 0, 0, 0.08) 0px,
      transparent 1px,
      transparent 2px,
      rgba(0, 0, 0, 0.08) 3px
    );
  opacity: 0.08;
  animation: noise-flicker 2.5s steps(3) infinite;
  pointer-events: none;
  z-index: 0;
  mix-blend-mode: overlay;
}

.command-feedback__meta {
  position: relative;
  display: flex;
  justify-content: space-evenly;
  align-items: flex-start;
  gap: clamp(1rem, 3vw, 2rem);
  font-size: 0.62rem;
  letter-spacing: 0.22em;
  color: rgba(137, 255, 255, 0.72);
}

/* Hexagonal accent on meta section */
.command-feedback__meta::before {
  content: '';
  position: absolute;
  top: -8px;
  left: -8px;
  width: 14px;
  height: 14px;
  background: rgba(0, 255, 255, 0.25);
  clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);
  animation: hex-pulse 3s ease-in-out infinite;
}

.command-feedback__meta-group {
  display: flex;
  flex-direction: column;
  gap: 0.15rem;
  flex: 1;
  text-align: center;
}

.command-feedback__meta-label {
  font-size: 0.58rem;
  color: rgba(94, 234, 212, 0.68);
}

.command-feedback__meta-value {
  font-size: 0.68rem;
  letter-spacing: 0.18em;
  color: rgba(200, 250, 255, 0.9);
}

.command-feedback__core {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: clamp(0.22rem, 0.8vw, 0.38rem);
  padding: clamp(0.55rem, 2.2vw, 0.85rem) clamp(0.85rem, 3vw, 1.2rem);
  border-radius: 12px;
  border: 1px solid rgba(0, 255, 255, 0.22);
  background: linear-gradient(135deg, rgba(8, 14, 24, 0.92), rgba(6, 10, 18, 0.74));
  box-shadow:
    inset 0 0 0 1px rgba(99, 255, 255, 0.05),
    0 12px 24px rgba(4, 10, 20, 0.32);
}

/* Corner brackets */
.command-feedback__core::after {
  content: '';
  position: absolute;
  inset: -2px;
  background:
    linear-gradient(90deg, rgba(0, 255, 255, 0.6) 0%, transparent 18px) top left,
    linear-gradient(0deg, rgba(0, 255, 255, 0.6) 0%, transparent 18px) top left,
    linear-gradient(90deg, transparent calc(100% - 18px), rgba(0, 255, 255, 0.6) 100%) top right,
    linear-gradient(0deg, rgba(0, 255, 255, 0.6) 0%, transparent 18px) top right,
    linear-gradient(90deg, rgba(0, 255, 255, 0.6) 0%, transparent 18px) bottom left,
    linear-gradient(0deg, transparent calc(100% - 18px), rgba(0, 255, 255, 0.6) 100%) bottom left,
    linear-gradient(90deg, transparent calc(100% - 18px), rgba(0, 255, 255, 0.6) 100%) bottom right,
    linear-gradient(0deg, transparent calc(100% - 18px), rgba(0, 255, 255, 0.6) 100%) bottom right;
  background-size: 24px 2px, 2px 24px;
  background-repeat: no-repeat;
  pointer-events: none;
  z-index: 10;
  border-radius: 16px;
}

.command-feedback__core-tag {
  font-size: clamp(0.42rem, 1.2vw, 0.55rem);
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: rgba(148, 233, 255, 0.78);
  opacity: 0.88;
}

.command-feedback__core-title {
  font-size: clamp(0.92rem, 3.8vw, 1.25rem);
  letter-spacing: 0.18em;
  color: #f6fdff;
  display: inline-flex;
  align-items: center;
  gap: 0.45rem;
  text-shadow:
    -2px 0 rgba(255, 0, 120, 0.34),
    2px 0 rgba(0, 255, 255, 0.52),
    0 0 24px rgba(128, 222, 255, 0.32),
    0 6px 16px rgba(8, 18, 38, 0.42);
}

.command-feedback__cursor {
  font-size: 1.1em;
  animation: hud-cursor 1.1s steps(2) infinite;
  color: rgba(0, 255, 255, 0.7);
}

.command-feedback__core-subline {
  font-size: clamp(0.68rem, 3vw, 0.95rem);
  letter-spacing: 0.12em;
  color: rgba(94, 234, 212, 0.86);
  text-transform: uppercase;
  max-width: 100%;
  line-height: 1.18;
  text-shadow: 0 8px 18px rgba(0, 255, 255, 0.22);
}

.command-feedback__telemetry {
  margin: 0;
  padding: clamp(0.55rem, 3vw, 0.75rem) clamp(0.6rem, 3vw, 1rem);
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
  background: rgba(6, 12, 20, 0.76);
  border: 1px solid rgba(0, 255, 255, 0.16);
  border-radius: 12px;
  font-size: 0.62rem;
  letter-spacing: 0.24em;
  color: rgba(128, 255, 255, 0.68);
  position: relative;
  overflow: hidden;
}

.command-feedback__telemetry::before {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 255, 255, 0.08) 0,
    rgba(0, 255, 255, 0.08) 1px,
    transparent 1px,
    transparent 9px
  );
  opacity: 0.35;
  mix-blend-mode: screen;
}

/* Hexagonal accents on telemetry section */
.command-feedback__telemetry::after {
  content: '';
  position: absolute;
  bottom: -8px;
  right: -8px;
  width: 14px;
  height: 14px;
  background: rgba(0, 255, 255, 0.25);
  clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);
  animation: hex-pulse 3s ease-in-out infinite 1s;
}

.command-feedback__telemetry li {
  position: relative;
  z-index: 1;
}

.command-feedback__scanline,
.command-feedback__glow {
  pointer-events: none;
  position: absolute;
  inset: 0;
  z-index: 1;
}

.command-feedback__scanline {
  background: repeating-linear-gradient(
    180deg,
    rgba(0, 0, 0, 0) 0,
    rgba(0, 0, 0, 0) 2px,
    rgba(0, 255, 255, 0.08) 2px,
    rgba(0, 255, 255, 0.08) 4px
  );
  opacity: 0.28;
  mix-blend-mode: screen;
  animation: hud-scan 4.5s linear infinite;
}

.command-feedback__glow {
  background: radial-gradient(circle at 50% 20%, rgba(0, 255, 255, 0.22), transparent 52%);
  opacity: 0.6;
  animation: hud-glow 5.6s ease-in-out infinite;
}

@keyframes hud-cursor {
  0%, 60% {
    opacity: 1;
  }
  60.0001%, 100% {
    opacity: 0;
  }
}

@keyframes hud-scan {
  0% {
    transform: translateY(-10%);
    opacity: 0.2;
  }
  50% {
    opacity: 0.35;
  }
  100% {
    transform: translateY(10%);
    opacity: 0.18;
  }
}

@keyframes hud-glow {
  0%, 100% {
    opacity: 0.45;
  }
  50% {
    opacity: 0.75;
  }
}

@media (max-width: 768px) {
  .command-feedback {
    display: none;
  }
}

body.dark-mode .command-feedback {
  background: linear-gradient(135deg, rgba(6, 10, 18, 0.95), rgba(4, 8, 16, 0.9));
  border-color: rgba(94, 234, 212, 0.32);
  box-shadow:
    0 38px 72px rgba(0, 12, 30, 0.65),
    0 16px 32px rgba(2, 12, 25, 0.5),
    inset 0 1px 0 rgba(180, 220, 255, 0.24);
}

body.dark-mode .command-feedback__core {
  background: linear-gradient(135deg, rgba(7, 11, 22, 0.92), rgba(5, 8, 18, 0.86));
}

.command-feedback--positive .command-feedback__core,
.command-feedback--positive .command-feedback__telemetry {
  border-color: rgba(94, 234, 212, 0.45);
}

.command-feedback--warning .command-feedback__core,
.command-feedback--warning .command-feedback__telemetry {
  border-color: rgba(255, 200, 112, 0.32);
  color: rgba(255, 235, 187, 0.82);
}

@media (prefers-reduced-motion: reduce) {
  .command-feedback,
  .command-feedback__scanline,
  .command-feedback__glow,
  .command-feedback__cursor {
    animation-duration: 0s !important;
    animation: none !important;
  }
}
